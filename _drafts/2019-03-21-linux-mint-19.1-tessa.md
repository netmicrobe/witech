---
layout: post
title: Linux mint 19.1 Tessa 使用
categories: [cm, linux]
tags: [mint, distribution]
---

* 参考： 
  * []()
  * []()



## timeshift 系统备份


注意！！如果挂载了其他硬盘的分区（特别是大体积的数据分区），备份前，要在设置中排除掉。

timeshift -\>





## 安装系统


### apt

#### 改为国内源

System Menu -\> Software Source



### 中文环境

#### 安装中文语言支持

1. 开始菜单 \> Preferences \> Language \> Install \/ Remove Language...
1. 选择 Chinese, China UTF-8 ，点击 Install language packs

#### 安装 fcitx 输入法

1. 开始菜单 \> Preferences \> Input Methods 选择 Simplified Chinese ，按其中提示安装就好了

* 注意：如果装好后，在状态栏看不到 键盘小图标，直接去 开始菜单 \> Preferences \> Fcitx Configuration


### bluetooth 设置

#### 开启关闭bluetooth

* 参考：
  * <https://medium.com/@vxp/solved-how-to-disable-bluetooth-at-startup-on-linux-mint-19-tara-cinnamon-f5e0bd97e14d>
  * <https://forums.linuxmint.com/viewtopic.php?t=208589>
  * <https://community.linuxmint.com/tutorial/view/2281>

默认系统安装好，蓝牙是打开的。

启动时，就关闭蓝牙，不知道会不会提升点性能。

1. System Menu -\> Session and Startup -\> Application Autostart -\> Add
1. 添加一个启动命令
  * Name: bt-close
  * Command: `rfkill block bluetooth`





## VirtualBox

### 安装 5.2.26

* 参考：
  * <https://www.virtualbox.org/manual/UserManual.html#vboxmanage-extpack>

1. 从[官网](https://www.virtualbox.org/wiki/Download_Old_Builds_5_2) 下载 VirtualBox 5.2.26 
    * **virtualbox-5.2_5.2.26-128414~Ubuntu~bionic_amd64.deb** Linux Hosts: Ubuntu 18.04 / 18.10 / Debian 10 
    * **Oracle_VM_VirtualBox_Extension_Pack-5.2.26.vbox-extpack**
1. 安装 Virtualbox ： 双击 Deb 安装包
1. 安装 extension package ：执行　`VBoxManage extpack install Oracle_VM_VirtualBox_Extension_Pack-5.2.26.vbox-extpack`
    * 安装完成，可执行命令来查看结果： `VBoxManage list extpacks`


### 共享文件夹设置

#### 兼容mac的挂载路径

共享文件在移动硬盘上，会导致不同系统挂载路径不同。使用软链接文件，可以解决这个问题。

例如，在Mac上共享目录地址是： `/Volumes/your-ssd-label/share-data` ，
在 Ubuntu上由于udisks2，移动usb block设备，都被挂载到 `/media/your-login-name/your-ssd-label`，
所以，创建一个软链接可以解决这个问题，`ln -s /media/your-login-name/your-ssd-label/share-data /Volumes/your-ssd-label/share-data`

这里多说两句，据说udisks2没有提供设置来修改挂载路径，只能放到 `/media` 下，
想通过在 udev 的 `/etc/udev/rules.d/` 添加add和remove规则，来自动挂载到 `/Volumes` 也是徒劳，
规则里面的shell脚本，没有root权限啊，不能执行`mount`命令哈。


## 文件系统

### 支持 exfat

~~~
sudo add-apt-repository universe
sudo apt-get update
sudo apt-get install -y exfat-fuse exfat-utils
~~~



## GUI

### 添加 Desktop App入口


* 参考
  * [Desktop Entry Specification](https://specifications.freedesktop.org/desktop-entry-spec/latest/)
  * [Icon Theme Specification](https://specifications.freedesktop.org/icon-theme-spec/icon-theme-spec-latest.html)
  * [Desktop Menu Specification](https://specifications.freedesktop.org/menu-spec/latest/)
  * [Recognized desktop entry keys](https://specifications.freedesktop.org/desktop-entry-spec/latest/ar01s06.html)

*  apps should look in $HOME/.icons (for backwards compatibility), in $XDG_DATA_DIRS/icons and in /usr/share/pixmaps (in that order).
* hicolor theme
  * In order to have a place for third party applications to install their icons there should always exist a theme called "hicolor"
  * Implementations are required to look in the "hicolor" theme if an icon was not found in the current theme. 


例子：

1. 拷贝chrome 的 desktop entry
    ~~~
    cd /usr/share/applications
    sudo cp google-chrome.desktop google-chrome-custom.desktop 
    ~~~
2. 修改新的 desktop entry
    `sudo vim google-chrome-custom.desktop`
    修改 所有 `Exec` 参数值出现的地方，添加一些chrome的自定义参数
    icon使用自定义 `Icon=google-chrome-custom`，把 `/usr/share/icons/hicolor/256x256/apps/google-chrome.png` 修改下，放到 `~/.icons/google-chrome-custom.png` 下面。













## 图形界面 Xfce

### 快捷键

设置和查看到位置： Windows Manager -\> keyborad

Ctrl + Alt + D
: 显示桌面

Windows key
: Brings up the Whisker menu

Ctrl-Alt-Del
: Locks the desktop by calling xflock4

Alt-F2
: Brings up a dialog box to run an application

Alt-F3
: Opens the Application Finder which also allows editing menu entries

Alt-F4
: 关闭当前窗口

PrtScr
: Opens the Screenshooter for screen captures


---
: ---


Ctrl-Alt-Bksp
: Closes the session (without saving!) and returns you to the login screen

Ctrl-Alt-F1
: Drops you out of your X session to a command line; use Ctrl-Alt-F7 to return.

Alt-F1
: Opens this MX Linux Users Manual



## 常用软件

### notepadqq

类似 notepad++ 的编辑器。

~~~
sudo add-apt-repository ppa:notepadqq-team/notepadqq
sudo apt-get update
sudo apt-get install notepadqq
~~~

ps: 不要使用snap安装，按照的版本很怪，打开文件时候一个文件都读取不到。


或者，编译安装：

~~~
sudo apt-get update
sudo apt-get install -y qt5-default qttools5-dev-tools qtwebengine5-dev libqt5websockets5-dev libqt5svg5 libqt5svg5-dev libuchardet-dev

git clone https://github.com/notepadqq/notepadqq.git
cd notepadqq/
./configure --prefix /usr
make
sudo make install
~~~



### git

~~~
git config --global core.editor "vim"
~~~




### xmind8


1. 到官网下载 <https://www.xmind.net/download/xmind8>
1. 解压 xmind-8-update8-linux.zip
1. 运行解压后目录中 setup.sh ： `sudo ./setup.sh`
1. 进入 `XMind_amd64/`
1. 编辑 `XMind.ini`，最后一行添加参数 `--add-modules=java.se.ee`
    不修改 ini 文件，直接运行 `./XMind_amd64/Xmind` 会报错 `org.eclipse.e4.core.di.InjectionException: java.lang.NoClassDefFoundError: javax/annotation/PostConstruct` 。
    参考： [Xmind Support Center - XMind starts but then is aborted just before starting to run](http://support.xmind.net/customer/portal/questions/17144128-xmind-starts-but-then-is-aborted-just-before-starting-to-run)
1. 运行 `./XMind_amd64/Xmind`

#### 启动 xmind8 报错：“java.lang.IllegalStateException: Unable to acquire application service”

报错：“java.lang.IllegalStateException: Unable to acquire application service. Ensure that the org.eclipse.core.runtime bundle is resolved and started (see config.ini).”

* 解决方法：在 `Xmind.ini` 中添加：
  ~~~
  -configuration
  /opt/xmind/XMind_amd64/./configuration
  -data
  /opt/xmind/XMind_amd64/../workspace
  -startup
  /opt/xmind/XMind_amd64/../plugins/org.eclipse.equinox.launcher_1.3.100.v20150511-1540.jar
  --launcher.library
  /opt/xmind/XMind_amd64/../plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.300.v20150602-1417
  --launcher.defaultAction
  openFile
  -vmargs
  -Dfile.encoding=UTF-8
  ~~~

#### xmind desktop configure

* ref
  * <https://github.com/pld-linux/xmind/blob/master/xmind.desktop>
  * <https://www.xmind.net/m/PuDC/>
  * <https://blog.scottlowe.org/2018/09/01/better-xmind-gnome-integration/>
  * [freedesktop - Tutorial: adding MIME information to the database](https://www.freedesktop.org/wiki/Specifications/AddingMIMETutor/)
  * [Add a custom MIME type for all users](https://help.gnome.org/admin/system-admin-guide/stable/mime-types-custom.html.en)
  * [Adding MIME types](https://developer.gnome.org/integration-guide/stable/mime.html.en)
  * [Custom Mime File Type Icon in XFCE Thunar](http://steronius.blogspot.com/2018/02/custom-mime-file-type-icon-in-xfce.html)
  * [How to change a file type icon in XFCE (Thunar)?](https://unix.stackexchange.com/questions/23776/how-to-change-a-file-type-icon-in-xfce-thunar)

~~~
$ cat /usr/share/applications/xmind.desktop
[Desktop Entry]
Encoding=UTF-8
Type=Application
Name=xmind8
Comment=mindmap tool
Icon=/opt/xmind/xmind.256.png
Exec=/opt/xmind/xmind-8-update8-linux/XMind_amd64/XMind %F
Path=/opt/xmind/xmind-8-update8-linux/XMind_amd64
Terminal=false
Categories=Office;Productivity;Development;X-XFCE;X-Xfce-Toplevel;
MimeType=application/vnd.xmind.workbook;
~~~

图标是从 `xmind-8-update8-linux/XMind_amd64/configuration/org.eclipse.osgi/983/0/.cp/icons/` 拷贝出来的。


文件浏览器thunar 中xmind文件图标设置。

1. 创建文件 `/usr/share/mime/packages/mind.xml`
    ~~~
    <?xml version="1.0" encoding="utf-8"?>
    <mime-info xmlns="http://www.freedesktop.org/standards/shared-mime-info">
        <mime-type type="application/vnd.xmind.workbook">
            <comment>XMind Workbook</comment>
            <glob pattern="*.xmind"/>
            <glob pattern="*.XMIND"/>
            <glob pattern="*.XMind"/>
            <generic-icon name="xmind"/>
        </mime-type>
    </mime-info>
    ~~~
2. 运行如下命令，刷新mime type database
    ~~~
    sudo update-mime-database -V .
    ~~~






















