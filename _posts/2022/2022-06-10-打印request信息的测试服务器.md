---
layout: post
title: 打印request信息的测试服务器，关联 Node.js
categories: [dev]
tags: []
---

* 参考： 
  * []()
  * []()



### Hbszwej 的 node.js 方案

* <https://gist.github.com/bszwej/62c327d773051816ed4949fd40c82c74>

* echo.js

~~~javascript
const http = require('http');
const server = http.createServer();

server.on('request', (request, response) => {
    let body = [];
    request.on('data', (chunk) => {
        body.push(chunk);
    }).on('end', () => {
        body = Buffer.concat(body).toString();

	console.log(`==== ${request.method} ${request.url}`);
	console.log('> Headers');
        console.log(request.headers);

	console.log('> Body');
	console.log(body);
        response.end();
    });
}).listen(8083);
~~~

`node echo.js` 会在 8083 端口侦听，来了请求就打印到命令行。

**注意**
经测试 node v12.22.5 执行正常； node v0.10.48 执行不起来。




