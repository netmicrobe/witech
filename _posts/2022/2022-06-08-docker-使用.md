---
layout: post
title: docker-使用，关联 docker-compose
categories: [cm, ]
tags: []
---

* 参考： 
  * []()
  * [Install Docker Desktop on Arch-based distributions](https://docs.docker.com/desktop/linux/install/archlinux/)
  * [wiki.archlinux.org - Docker](https://wiki.archlinux.org/title/docker)
  * []()
  * []()
  * []()
  * []()
  * []()
  * []()
  * []()


## 简述

* Docker Engine
包含一个daemon来管理容器、docker client 命令行工具

* Docker Compose
更好用的docker前端，通过 `docker-compose.yml` 控制多个container

* Docker Desktop
用来启动一个Linux 虚拟机运行container。Windows 和 Mac 系统必备，Linux也可以装。


## 安装

* arch linux

~~~sh
sudo pacman -Syy docker docker-compose
sudo systemctl enable docker.service

# 查看版本
docker version
# deamon的状态
sudo docker info
~~~

* ubuntu

* refer:  <https://docs.docker.com/engine/install/ubuntu/>

适用版本： 
Ubuntu Jammy 22.04 (LTS)
Ubuntu Impish 21.10
Ubuntu Focal 20.04 (LTS)
Ubuntu Bionic 18.04 (LTS)

1. Uninstall old versions
    `sudo apt-get remove docker docker-engine docker.io containerd runc`
1. 
1. 
1. 
1. 
1. 
1. 




## 配置

如果希望非root用户可以直接使用docker命令，必须将用户加入 docker 用户组，然后重新登录，重启docker.service

~~~sh
sudo usermod -aG docker ${whoami}
~~~


## docker 常用命令

~~~sh
# 列出正在运行的container
docker ps

# 列出已经关闭的container
docker ps --filter "status=exited"

# 停止容器
docker stop <容器ID>

# 重启容器
docker restart <容器ID>

# 启动已经停止的容器
docker start <容器ID>

# 删除容器
docker rm <容器ID>

# 启动shell连接到容器
docker exec -it <容器ID> /bin/bash
~~~









