---
layout: post
title: linux上挂载文件系统
categories: [cm, linux]
tags: [manjaro]
---

* 参考： 
  * []()
  * []()
  * []()



## 文件系统

### 自动挂载fs

* 参考：
  * [ArchWiki - fstab (简体中文)](https://wiki.archlinux.org/index.php/Fstab_\(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87\))
  * [ArchWiki - NTFS-3G (简体中文)](https://wiki.archlinux.org/index.php/NTFS-3G_\(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87\))
  * <https://community.linuxmint.com/tutorial/view/1513>
  * [CSDN - Archlinux下实现NTFS分区自动挂载](https://blog.csdn.net/baimaozi/article/details/3134267)
  * [ExFAT with Arch Linux](https://topher1kenobe.com/exfat-with-arch-linux/)

* 挂载ext4
  1. 注意提前挂载点：`sudo mkdir /your-mount-point`
  2. 编辑 `/etc/fstab`
      ~~~
      # <file system>   <dir>		<type>    <options>             <dump>  <pass>
      # /dev/sda1
      UUID=通过“lsblk -f”和“fdisk -l”来获得  /your-mount-point   ext4    defaults,noatime,nofail 0 0  
      ~~~
      
      `nofail` 参数，表示如果系统启动时挂载失败，系统照常启动。
      
  3. ext4 系统自带owner、gid、uid信息，创建filesystem的时候就存在，fstab文件中指定 uid、gid、fmask、dmask，都是没有用的，会导致系统启动失败。

* 挂载ntfs
  1. 注意提前挂载点：
      ~~~
      sudo mkdir /mnt/windows
      sudo chown your-account:your-group /mnt/windows
      ~~~
  1. 编辑 `/etc/fstab`
      ~~~
      # <file system>   <dir>		<type>    <options>             <dump>  <pass>
      /dev/NTFS-partition  /mnt/windows  ntfs-3g   defaults,noatime,uid=username,gid=users,umask=0022,locale=zh_CN.utf8    0 0
      ~~~

* 挂载exfat
  1. 注意提前挂载点：
      ~~~
      sudo mkdir /Volumes/your-exfat-partition
      sudo chown your-account:your-group /Volumes/your-exfat-partition
      ~~~
  1. 编辑 `/etc/fstab`，此处使用的是：  `aur/exfat-linux-dkms`
      ~~~
      # <file system>   <dir>		<type>    <options>             <dump>  <pass>
      UUID=通过“lsblk -f”和“fdisk -l”来获得             /Volumes/your-exfat-partition   exfat    rw,nosuid,nodev,relatime,uid=1000,gid=1000,fmask=0022,dmask=0022,iocharset=utf8,errors=remount-ro  0  0
      ~~~





### NTFS 支持

~~~
pacman -S ntfs-3g
~~~

一般随系统安装好了。




## CentOS 挂载文件系统

1. 安装 ntfs-3g, fuse
    ~~~
    yum install -y epel-release
    yum install -y ntfs-3g fuse
    ~~~
1. 重启系统

1. mount 测试 `mount /dev/sdb1 /mnt/ntfs-disk`

1. 自动挂载
    修改 `/etc/fstab`
    ~~~
    UUID=xxxx      /mnt/ntfs-disk      ntfs-3g rw,umask=0000,defaults 0 0
    ~~~
    UUID 用 `lsblk -f` 查看




























