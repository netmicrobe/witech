---
layout: post
title: 一加5t-dumpling刷机
categories: [cm, android]
tags: [ rom, adb, fastboot, bootloader, root, unlock, twrp ]
---

* 参考： 
  * [xda-developers.com - OnePlus 5T ROMs, Kernels, Recoveries, & Other Development](https://forum.xda-developers.com/oneplus-5t/development)
  * []()
  * [OpenGapps](https://opengapps.org/)
  * []()

## Firmware 下载

* [crDroid Android - firmware - 有最新的10.0.0_H1](https://sourceforge.net/projects/crdroid/files/dumpling/6.x/firmware/)
* [OxygenOS Firmware + Radio Flashable Zips](https://forum.xda-developers.com/showpost.php?p=76943628&postcount=8)
* [Doc's Oneplus 5T Firmwares. Update 2018-08-14](https://forum.xda-developers.com/showthread.php?t=3728665)
* []()

## TWRP下载

* TWRP
  * [twrp.me - TWRP for cheeseburger_dumpling](https://dl.twrp.me/cheeseburger_dumpling/)
  * [xda-developers.com - TWRP 3.3.X by codeworkx](https://forum.xda-developers.com/oneplus-5t/development/recovery-twrp-3-2-1-0-oreo-8-0-8-1-t3729673)
  * [engstk
/
android_device_oneplus_enchilada](https://github.com/engstk/android_device_oneplus_enchilada/releases/)
  * [RECOVERY 3.4.0-0 Cheeseburger/Dumpling Official/Unofficial TWRP for OnePlus 5/5T](https://forum.xda-developers.com/oneplus-5/oneplus-5--5t-cross-device-development/recovery-unofficial-twrp-recovery-t4072857)


## OS

* 官方rom - 氢OS下载
  * [Android 10-062_all_2005291737](http://download.h2os.com/5T/MP/OnePlus5THydrogen_43_OTA_062_all_2005291737_04f9b97b5ae84d67.zip)

* lineage
  * **下载**
    * [Official Download](https://download.lineageos.org/dumpling)
    * [unofficial - 17.1](https://sourceforge.net/projects/cheeseburgerdumplings/files/17.1/dumpling/)
  * **指南**
    * [How to install LineageOS 16 on OnePlus 5T](https://www.techrepublic.com/article/how-to-install-lineageos-16-on-oneplus-5t/)
    * [oneplus.com - LineageOS | OnePlus 5T 16.0 Android 9](https://forums.oneplus.com/threads/rom-lineageos-oneplus-5t-16-0-android-9-official.794242/)
    * [xda-developers.com - LineageOS 17.1 (Q) for Oneplus 5T by codeworkx](https://forum.xda-developers.com/oneplus-5t/development/rom-lineageos-17-0-q-oneplus-5t-t3978855)


* crDroid
  * **下载**
    * []()
  * **指南**
    * [xda-developers.com - crDroid](https://forum.xda-developers.com/oneplus-5t/development/rom-crdroid-android-6-t3972533)
    * [xda-developers.com - crDroid Android 6.9 - 9 AUG 2020](https://forum.xda-developers.com/oneplus-5t/development/rom-crdroid-android-6-t3972533)
    * []()

* Havoc
  * **下载**
    * [sourceforge - havoc-os - dumpling download](https://sourceforge.net/projects/havoc-os/files/dumpling/)
    * []()
    * []()
  * **指南**
    * [Havoc-OS/official_devices 电报群](https://github.com/Havoc-OS/official_devices/blob/ten/README.md)
    * [Oneplus 5T 电报群](ttps://t.me/havoc_oneplus5)
    * [Oneplus 5T Maintainer](https://t.me/Tilaksid)
    * [Havoc-OS-3.7-10.0.0_r40-Official](https://forum.xda-developers.com/oneplus-3/oneplus-3--3t-cross-device-development/rom-havoc-os-t3782811)

* AOSiP
  * **下载**
    * [official - dumpling](https://aosip.dev/dumpling)
    * [sourceforge.net - mirror - dumpling](https://sourceforge.net/projects/illusionproject/files/dumpling/)
    * []()
  * **指南**
    * [xda-developers.com - Android Open Source illusion Project](https://forum.xda-developers.com/oneplus-5/oneplus-5--5t-cross-device-development/rom-android-source-illusion-project-t4117189)
    * []()


* RR / Resurrection Remix
  * **End of development since 2020-02-13!**
  * **下载**
    * []()
  * **指南**
    * [Download Install Resurrection Remix on OnePlus 5T based 9.0 Pie - RR 7.0](https://www.getdroidtips.com/resurrection-remix-oneplus-5t/)
    * []()
    * []()


* LuisROM
  * 本来是基于RR的，但RR 在 2020-02-13 停了，改为基于crDroid
  * **下载**
    * [LuisROM Download](http://luis-builds.de/downloads/lineageos/)
    * [LuisROM RR 版本](http://luis-builds.de/downloads/lineageos/rr/oneplus5t/)
  * **指南**
    * [My Unoffical Resurrection Remix (PIE)
(LuisROM) for Oneplus 5T (dumpling)](https://forum.xda-developers.com/oneplus-5t/development/rom-unofficial-resurrection-remix-t3912512)
    * []()


* RevengeOS
  * **下载**
    * []()
  * **指南**
    * [xda-developers.com - RevengeOS 3.2 | OnePlus 5](https://forum.xda-developers.com/oneplus-5/development/10-0-revengeos-3-2-oneplus-5-t4072867)
    * []()

* ViperOS
  * **下载**
    * [sourceforge.net - ViperOS - dumpling](https://sourceforge.net/projects/viper-project/files/dumpling/)
    * []()
  * **指南**
    * [xda-developers.com - RevengeOS 3.2 | OnePlus 5](https://forum.xda-developers.com/oneplus-5/development/10-0-revengeos-3-2-oneplus-5-t4072867)
    * []()

* aicp - Android Ice Cold Project
  * **下载**
    * [aicp - dumpling](https://dwnld.aicp-rom.com/#oneplus)
    * []()
  * **指南**
    * [Android Ice Cold Project 15](https://forum.xda-developers.com/oneplus-5/development/8-1-official-aicp-13-1-t3733171)
    * []()

* DerpFest
  * **下载**
    * [DerpFest - dumpling - sourceforge mirror](https://sourceforge.net/projects/derpfest/files/dumpling/Bare/)
    * []()
  * **指南**
    * [xda-developers - DerpFest Bare for OnePlus5T](https://forum.xda-developers.com/oneplus-5t/development/rom-unofficial-aosip-aka-derpfest-t3978357)
    * []()


## 刷机过的配置

### 氢OS Android 10.0 + Magisk 20.4

* TWRP
  `fastboot flash recovery twrp-3.4.0-0-cheeseburger--dumpling-mauronofrio.img`
* ROM
  `OnePlus5THydrogen_43_OTA_062_all_2005291737_04f9b97b5ae84d67.zip`
* magisk
  `Magisk-v20.4.zip`    [下载](https://github.com/topjohnwu/Magisk/releases)
  `MagiskManager v7.3.4`
* Riru-Core
  `magisk-riru-v21.3.zip`     [下载](https://github.com/RikkaApps/Riru/releases)
* EdXposed
  `EdXposed-YAHFA-v0.4.6.2.4529.-release.zip`   [下载](https://github.com/ElderDrivers/EdXposed/releases)
* EdXposed Manager
  `EdXposedManager-4.5.7`   [下载](https://github.com/ElderDrivers/EdXposedManager/releases/tag/v4.5.7.0.0)


### crDroid v6.8 Android 10

* twrp-3.4.0-0-cheeseburger--dumpling-mauronofrio.img
* ROM: crDroidAndroid-10.0-20200714-dumpling-v6.8.zip
* Gapps: open_gapps-arm64-10.0-nano-20200823.zip
* magisk: Magisk-v20.4.zip  ,  MagiskManager v7.3.4
* Riru-Core: magisk-riru-v21.3.zip
* EdXposed: EdXposed-YAHFA-v0.4.6.2.4529.-release.zip
* EdXposed Manager: EdXposedManager-4.5.7

* First Time Installation:
  Backup before you begin
  Remove PIN protection and then reboot to TWRP recovery
  Wipe Data under Advanced (Do not use Format Data - which erases internal memory)
  Wipe System and Cache under Advanced
  Flash required firmware
  Flash ROM + Gapps
  Optionally - Flash supported root
  Optionally - Flash No Verity v3 zip ONLY if you are decrypted [This is not tested on Android 10]
  Reboot and profit!

* Update Installation:
  Backup before you begin
  Reboot to TWRP recovery
  Flash required firmware if new one available
  Flash ROM
  Optionally - Flash No Verity v3 zip ONLY if you are decrypted [This is not tested on Android 10]
  Reboot and profit!





### lineage 刷机

1. 刷入twrp recovery
    `fastboot flash recovery twrp-3.3.1-x_blu_spark_v9.101_treble-op5_op5t.img`
1. 电源键启动后，一直按`音量下`进入TWRP
1. Wipe 》 Format Data
1. Wipe 》 Advance Wipe
        Wipe / 清除 》 Advanced Wipe 高级清除 》
        * 四清：选中
          * Dalvik Cache
          * System
          * Data
          * Cache
1. Advanced 》ADB Sideload
    ~~~
    adb sideload lineage-16.0-20200721-nightly-dumpling-signed.zip
    adb sideload open_gapps-arm64-9.0-nano-20200404.zip
    adb sideload Magisk-v19.4.zip
    ~~~
1. 重启手机


## magisk 中 安装 EdXposed

目前Xposed只支持到Android 7.0（N），不支持 Android 8+，只能使用magisk中的 `EdXposed` 模块。

1. 打开 magisk manager
1. 下载安装：Riru(Riru-Core) v19.8 作者：Rikka
    1. 下载：到 <https://github.com/RikkaApps/Riru/releases> 下载 `magisk-riru-core-v19.8.zip`
    1. 安装：magisk manager 》模块》点击“+”号，浏览目录并选择`magisk-riru-core-v19.8.zip`
1. 安装：Riru-EdXposed - v0.4.6.2(4529)(YAHFA)
    * 下载安装： 到 <https://github.com/ElderDrivers/EdXposed/releases> 下载 `EdXposed-YAHFA-v0.4.6.2.4529.-release.zip`
    * 直接安装： magisk manager 》下载》搜索、下载安装
1. 下载安装：`EdXposedManager`
    下载：到 <https://github.com/ElderDrivers/EdXposedManager/releases/tag/v4.5.7.0.0> 下载 `EdXposedManager-4.5.7-45700-org.meowcat.edxposed.manager-release.apk`
    直接安装apk
1. 



## 常用技巧

### 进入 recovery & FASTBOOT 模式

* fastboot
  关机状态下同时按住：【音量下】和【电源键】

* recovery
  关机状态下同时按住：【音量上】和【电源键】

  ~~~
  fastboot devices
  fastboot oem device-info
  ~~~

### 解锁

1. 打开开发者模式，手机连接adb
1. 设置》系统》开发者选项》打开“OEM解锁”
1. 进入bootloader界面
    `adb reboot bootloader`
1. 执行解锁命令
    `fastboot oem unlock` ，手机屏幕显示文字提醒，用“音量键”选择“UNLOCK THE BOOTLOADER”，“电源键”确认
1. 到此解锁已完成
    手机会自动重启（解锁后每次开机的时候都会多一个警告界面，连按两次电源键即可）。
    稍等片刻（注意解完BL锁后会清楚所有的用户数据，提前做好备份）





## 卡刷

1. 访问 [氢OS官方网站](https://www.h2os.com/) 下载对应机型的`刷机包zip`
1. `刷机包zip` 拷贝到手机
1. 关机状态下同时按住：【音量下】和【电源键】
1. 选择 zip 包刷机





## 线刷

* **千万记住一点** ：不同机型的线刷包不能互刷，只能下载跟自己机型匹配的线刷包使用。

1. 安装驱动
    1. 下载驱动 [OnePlus.QualcomDrivers.zip](https://ava2.androidfilehost.com/dl/Yt2rQ2BT1AlGkGsPDT1bJQ/1596790027/889964283620777981/OnePlus.QualcomDrivers.zip?)
    1. 完全关机状态下按住左侧音量+不放，同时插入数据线，等待PC识别到`QHSUSB_BULCK`设备（设备管理器》其他设备》`QHSUSB_BULCK`）
    1. 在`QHSUSB_BULCK`上点右键---更新驱动程序----浏览计算机以查找驱动程序软
件，定位到驱动文件夹，点下一步，出现红色警告框选择“始终安装此驱动程序”，直到提示安装完成。
    1. 打开设备管理器，查看“端口（COM和LPT）”，如果出现`Qualcomm HS-USB QDLoader 9008`底层驱动就安装好了。

1. 下载对应机型的`刷机包zip`
    * [oneplusbbs.com -【教程] 【资源组】一加手机全系列⑮机型线刷救砖资源★附教程](http://www.oneplusbbs.com/thread-4446250-1.html)
      下载地址：<https://pan.baidu.com/s/1cZXjgdQYmptg_KlTh7r5Fg>
      提取码： lbwa
1. 解压“一加5T-线刷救砖.zip”后，启动其中的 `MsmDownloadTool V4.0.exe`
1. 软件显示“com设备”，选中“售后升级模式”，然后点击 Start 开始刷机，刷机过程中软件会有进度条显示
    ![](MsmDownloadTool刷机界面.png)







## 安装Goolge Play商店

1. 安装 酷安 市场
1. 搜索并安装 `Google Play Store`
1. 然后登陆Google帐号就好了


























